CREATE TABLE admin (
    id INT AUTO_INCREMENT,
    email VARCHAR(255) NOT NULL,
    username varchar(255) not null,
    password varchar(255) not null,
    PRIMARY KEY(id),
    CONSTRAINT chk_email CHECK (email REGEXP '^[^@\\s]+@(uniba\\.it|studenti\\.uniba\\.it)$')
);


CREATE TABLE users (
    user_id INT AUTO_INCREMENT PRIMARY KEY, -- Identificativo unico dell'utente
    first_name VARCHAR(50) NOT NULL,       -- Nome dell'utente
    last_name VARCHAR(50) NOT NULL,        -- Cognome dell'utente
    email VARCHAR(255) NOT NULL UNIQUE,    -- Email dell'utente (univoca)
    password VARCHAR(255) NOT NULL,  -- Hash della password
);

CREATE TABLE configurazioni (
    id_configurazione INT AUTO_INCREMENT PRIMARY KEY, -- Identificativo unico della configurazione
    nome_configurazione VARCHAR(100) NOT NULL,       -- Nome della configurazione
    id_utente INT NOT NULL,                          -- ID dell'utente che ha caricato la configurazione
    FOREIGN KEY (id_utente) REFERENCES users(user_id) -- Chiave esterna per collegare alla tabella users
);

CREATE TABLE posts (
    post_id INT AUTO_INCREMENT PRIMARY KEY,         -- Identificativo univoco del post
    user_id INT NOT NULL,                           -- ID dell'utente che ha scritto il post
    title VARCHAR(255) NOT NULL,                   -- Titolo del post
    content TEXT NOT NULL,                         -- Contenuto del post
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP, -- Data e ora di creazione
    FOREIGN KEY (user_id) REFERENCES users(user_id) -- Collegamento con la tabella users
);

CREATE TABLE lezioni (
    id_lezione INT AUTO_INCREMENT PRIMARY KEY,          -- Identificativo univoco della lezione
    nome_lezione VARCHAR(255) NOT NULL,                -- Nome della lezione
    data_caricamento TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- Data e ora di caricamento
);

